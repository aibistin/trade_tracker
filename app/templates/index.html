{% extends "base.html" %} 

{% block title %}Trade Tracker{% endblock %} 

{% block content %}
<h1>Trade Tracker</h1>

<p class="mt-3 lead">
  Welcome to the Trade Tracker!
</p>

<h5>View Trades By Symbol</h5>

<div x-data="{ open: false, selectedSymbol: null }">
  <div class="dropdown">
    <button 
      class="btn btn-primary dropdown-toggle" 
      type="button" 
      id="symbolDropdown" 
      data-bs-toggle="dropdown" 
      aria-expanded="false"
      x-text="selectedSymbol ? selectedSymbol.name : 'Select a Symbol'">
    </button>
    <ul class="dropdown-menu" aria-labelledby="symbolDropdown">
      {% for sec in securities %}
      <li>
        <a 
          class="dropdown-item d-flex justify-content-between align-items-center" 
          href="/trade/detail/{{ sec.symbol }}"
          @click="selectedSymbol = { symbol: '{{ sec.symbol }}', name: '{{ sec.name }}' }; open = false"
        >
          <span class="lh-1 text-start text-primary-emphasis">{{ sec.symbol }}</span> 
          <span class="lh-1 text-secondary-emphasis text-end text-nowrap">{{ sec.name }}</span>
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

{% endblock content %}